extends ../layout

block content
    div(
        class = "ui container segment"
    )
        h1(
            class = "ui centered header"
        ) Manage #{result.Name}

        form(
            class  = 'ui form error',
            action = '/admin/property/' + result.ID,
            method = 'put'
        )
            if errors
                div(
                    id    = 'error_explanation',
                    class = "ui error message"
                )
                    h3(
                        class = 'ui left aligned header'
                    )| These errors prevented this record from being updated:
                    ul
                        each error in errors
                            li() #{error.msg}
            h3(
                class = "ui dividing header"
            ) Basic Information
            div(
                class = 'fields'
            )
                div(
                    class = 'required eight wide field'
                )
                    label(
                        for = 'name'
                    )| Name:
                    input(
                        type  = 'text',
                        name  = 'name',
                        id    = 'name',
                        value = result.Name
                    )
                div(
                    class = 'required eight wide field'
                )
                    label(
                        for = 'Address'
                    )| Address:
                    input(
                        type  = 'text',
                        name  = 'street',
                        id    = 'street',
                        value = result.Street
                    )
            div(
                class = 'fields'
            )
                div(
                    class = 'required six wide field'
                )
                    label(
                        for = 'city'
                    )| City:
                    input(
                        type  = 'text',
                        name  = 'city',
                        id    = 'city',
                        value = result.City
                    )
                div(
                    class = 'required six wide field'
                )
                    label(
                        for = 'zip'
                    )| Zip:
                    input(
                        type  = 'text',
                        name  = 'zip',
                        id    = 'zip',
                        value = result.Zip
                    )
                div(
                    class = 'required four wide field'
                )
                    label(
                        for = 'size'
                    )| Size:
                    input(
                        type  = 'text',
                        name  = 'size',
                        id    = 'size',
                        value = result.Size
                    )
            h3(
                class = "ui dividing header"
            ) Classifying Information
            div(
                class = 'fields'
            )
                div(
                    class = 'required eight wide field'
                )
                    label(
                        for = 'Public'
                    )| Type: Commercial
                div(
                    class = 'required eight wide field'
                )
                    label(
                        for = 'IsPublic'
                    )| Public:
            div(
                class = 'fields'
            )
                div(
                    class = 'required eight wide field'
                )
                    label(
                        for = 'id'
                    )| ID:
                    input(
                        type        = 'text',
                        name        = 'id',
                        id          = 'id',
                        placeholder = result.ID,
                        readonly    = ''
                    )
                div(
                    class = 'required eight wide field'
                )
                    label(
                        for = 'id'
                    )| Type:
                    input(
                        type        = 'text',
                        name        = 'type',
                        id          = 'type',
                        placeholder = result.PropertyType,
                        readonly    = ''
                    )
            h3(
                class = 'ui dividing header'
            ) Property has
            div(
                class = 'ui grid'
            )
                each val,index in has
                    if val
                        div(
                            class = 'row'
                        )
                            div(
                                class = 'sixteen wide column'
                            )
                                h4(
                                    class = 'ui center aligned header'
                                ) #{index}
                                table(
                                    class = 'ui celled striped table'
                                )
                                    tr()
                                        th(
                                            align = 'center'
                                        ) #{index}
                                        th(
                                            align = 'center'
                                        ) Action
                                    if val
                                        each value in val
                                            tr()
                                                td(
                                                    align = 'center'
                                                ) #{value.Name}
                                                td(
                                                    align = 'center'
                                                )
                                                    a(
                                                        class = 'ui fluid red button',
                                                        onclick = "return confirm('Are you sure? Form changes will not be saved')"
                                                    ) Delete
                                    else
                                        tr()
                                            td(
                                                colspan = '2',
                                                align   = 'center'
                                            ) No Animals
            br()
            br()
            input(
                type              = 'submit',
                name              = 'commit',
                value             = 'Submit (Save Changes)',
                class             = 'ui primary fluid button',
                data-disable-with = 'Submit'
            )
